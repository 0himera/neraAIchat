:root{ color-scheme: dark; }
*{ box-sizing: border-box; }
body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#0b0e14; color:#e6e6e6; }
.app-header{ padding:16px 20px; border-bottom:1px solid #1b2230; display:flex; align-items:baseline; gap:12px; }
.app-header h1{ margin:0; font-size:20px; }
.subtitle{ color:#9aa4b2; font-size:12px; }
.layout{ display:grid; grid-template-columns: 260px 1fr 320px; gap:16px; padding:16px; min-height: calc(100vh - 100px); }
.center{ display:flex; flex-direction:column; gap:12px; }
.right{ display:flex; flex-direction:column; gap:12px; }
.card{ background:#0f1420; border:1px solid #1b2230; border-radius:8px; padding:12px; }
.card-title{ font-weight:600; color:#c8d1e4; margin-bottom:8px; }
.chat{ display:flex; flex-direction:column; min-height: 420px; max-height: 70vh; }
.chat-scroll{ overflow:auto; display:flex; flex-direction:column; gap:10px; flex:1; padding-right:6px; }
.msg{ display:flex; gap:10px; }
.msg .role{ min-width:90px; color:#9aa4b2; text-transform:uppercase; font-size:11px; letter-spacing:.08em; }
.msg .text{ white-space: pre-wrap; }
.msg.user .role{ color:#8ab4f8; }
.msg.assistant .role{ color:#a1e3a1; }
.msg.system .role{ color:#c8d1e4; }
.msg.partial .role{ color:#f3d98b; }
.row{ display:flex; align-items:center; gap:8px; }
.input-row{ display:flex; gap:8px; }
.btn{ background:#1a2233; color:#e6e6e6; border:1px solid #28344a; border-radius:6px; padding:8px 12px; cursor:pointer; }
.btn:hover{ background:#1e2740; }
.btn.danger{ background:#4a1f1f; border-color:#5a2a2a; }
.input{ flex:1; background:#0b0f1a; border:1px solid #1b2230; border-radius:6px; padding:8px 10px; color:#e6e6e6; }
.input.small{ width:100px; }
.status{ font-size:12px; color:#9aa4b2; margin-top:6px; }
.switch{ display:flex; align-items:center; gap:8px; }
.grow{ flex:1; }
.sidebar{ display:flex; flex-direction:column; gap:12px; }
.sidebar-header .btn.full{ width:100%; }
.btn.primary{ background:#1d3a5c; border-color:#27476d; }
.sidebar .session-list{ max-height: calc(100vh - 200px); overflow:auto; display:flex; flex-direction:column; gap:8px; }
.session-item{ display:flex; justify-content:space-between; align-items:flex-start; gap:8px; padding:10px; border-radius:6px; border:1px solid transparent; cursor:pointer; transition: background .2s, border .2s; }
.session-item:hover{ background:#131c2a; border-color:#1f2d44; }
.session-item.active{ background:#1a2436; border-color:#30507d; }
.session-title{ font-weight:600; margin-bottom:4px; color:#d9e2ff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.session-preview{ font-size:12px; color:#9aa4b2; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; line-clamp:2; }
.session-actions{ display:flex; gap:6px; }
.session-actions .icon{ background:none; border:none; color:#8ba4d9; cursor:pointer; font-size:14px; padding:2px 4px; }
.session-actions .icon.danger{ color:#f38b8b; }
.session-empty{ font-size:12px; color:#9aa4b2; text-align:center; padding:12px; }
